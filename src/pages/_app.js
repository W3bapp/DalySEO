import React, {useEffect, useState} from 'react'import '../styles/App/App.scss'import {ThemeProvider} from '../context/theme/ThemeContext'import styled from '@emotion/styled'import I18n from '../lib/i18n'import Head from 'next/head'import Header from '@/header/Header'import HeaderMobile from '@/header/HeaderMobile'import {SnackbarProvider} from 'notistack'import {HeaderProvider} from '../context/navigation/HeaderContext';import { useRouter } from 'next/router'import ReactGA from 'react-ga';import CookieConsent from 'react-cookie-consent'import Cookies from 'universal-cookie';const GlobalStyle = styled('div')`  h1, h2, h3, h4, p, a, li {    color: ${props => props.theme.fonts.text}  }  background: ${props => props.theme.layout}`const gtagCookieName = "googleAnalytics";const cookies = new Cookies();function MyApp({Component, pageProps}) {    const [gtagCookie, setGtagCookie] = useState(cookies.get(gtagCookieName))    const router = useRouter();    const handleCookie = () => {        setGtagCookie(cookies.get(gtagCookieName));    }    useEffect(() => {        if (gtagCookie){            const handleRouteChange = (url, { shallow }) => {                ReactGA.set({ page: url })                ReactGA.pageview(url)            }            ReactGA.initialize('UA-207174708-1', { debug: false })            ReactGA.set({ page: router.pathname })            ReactGA.pageview(router.pathname)            router.events.on('routeChangeComplete', handleRouteChange)            return () => {                router.events.off('routeChangeComplete', handleRouteChange)            }        }    }, [gtagCookie])    return (        <ThemeProvider>            <HeaderProvider>                <Head>                    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />                    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />                    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />                    <link rel="manifest" href="/site.webmanifest" />                    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />                    <meta name="theme-color" content="#ffffff" />                    <meta name="Description"                          content="Onze missie is om u volledig te ontzorgen van uw verhuizing. Hierbij staat u als klant                            centraal,                            waarbij wij uw wensen onze prioriteit zijn. Vraag vrijblijvend uw prijsopgave hieronder                            aan"/>                    <title>Daly Verhuizingen</title>                </Head>                <I18n lngDict={pageProps.lngDict} locale={pageProps.lng}>                    <GlobalStyle>                        <Header/>                        <HeaderMobile/>                        <SnackbarProvider maxSnack={3} autoHideDuration={15000}>                            <Component {...pageProps} />                            {/*<Footer/>*/}                        </SnackbarProvider>                        <CookieConsent                            onAccept={handleCookie}                            location="bottom"                            buttonText="Accepteren"                            cookieName={gtagCookieName}                            style={{background: '#2B373B'}}                            buttonStyle={{color: 'white', fontSize: '14px', background: "F8931F", borderRadius: "5px"}}                            expires={150}                        >                            <p style={{color: "white", marginBottom: "0", maxWidth:"1200px", fontSize:"14px"}} className="label">                                Daly Verhuizingen maakt gebruik van cookies. Door op accepteren te drukken gaat u ermee akkoord dat                                Daly Verhuizingen geanonimiseerde analytische                                cookies gebruikt: om inzage te krijgen in het bezoek aan onze website op basis van                                informatie                                over bezoekersaantallen, populaire paginaâ€™s en onderwerpen. Meer informatie over het                                gebruik van cookies kunt u vinden in onze <span><a                                href="/assets/documents/">privacybeleid</a></span>                            </p>                        </CookieConsent>                    </GlobalStyle>                </I18n>            </HeaderProvider>        </ThemeProvider>    )}export default MyApp